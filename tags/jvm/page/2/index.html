<!DOCTYPE html><html class="appearance-auto" lang="zh-CN"><head><meta charset="UTF-8"><title>Zhangdd's blog</title><meta name="description" content="Let's go"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="https://zincv.oss-cn-hangzhou.aliyuncs.com/IMG_1541.jpg"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/widget-post-list.css"><meta name="generator" content="Hexo 7.3.0"></head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">Zhangdd's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><span>标签 · jvm</span></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></header><main><article class="post-container is-flex is-justify-content-center section container is-max-widescreen pt-4 px-2"><div class="columns is-variable is-1-tablet is-3-desktop-only is-2-widescreen is-full-width"><section class="column"><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%BF%BB%E8%AF%91"><i class="tag post-item-tag">官方文档翻译</i></a><a href="/tags/jvm"><i class="tag post-item-tag">jvm</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/09/01/jvm-spec-2.%20The%20Structure%20of%20the%20Java%20Virtual%20Machine/">jvm-spec-2. The Structure of the Java Virtual Machine</a></h2><time class="has-text-grey" datetime="2022-09-01T14:46:49.000Z">2022-09-01</time><p class="is-flex-grow-2 mt-2">This document specifies an abstract machine. It does not describe any particular implementation of the Java Virtual Machine.
本文档指定了一个抽象机器，并未描述Java虚拟机的任何特定实现。
To implement the Java Virtual Machine correctly, you need only be able to read the class file format and correctly perform the operations specified therein. Implementation details that are not part of..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/09/01/jvm-spec-2.%20The%20Structure%20of%20the%20Java%20Virtual%20Machine/">更多</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/jvm"><i class="tag post-item-tag">jvm</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/08/20/jvm-%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E3%80%81%E6%95%85%E9%9A%9C%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7%E6%80%BB%E7%BB%93/">jvm-虚拟机性能监控、故障处理工具总结</a></h2><time class="has-text-grey" datetime="2022-08-20T14:46:49.000Z">2022-08-20</time><p class="is-flex-grow-2 mt-2">


工具
功能描述
常用选项&amp;#x2F;命令



jps
列出所有正在运行的 JVM 进程及其启动类名或 JAR 文件名。
-v 显示传递给 JVM 的参数-m 显示传递给主类的参数


jstat
监控 JVM 性能统计信息，如垃圾回收、类加载等。
-gc 查看垃圾回收统计信息-class 查看类加载信息


jmap
生成堆转储文件，查看堆内存的使用情况。
-dump 生成堆转储-heap 查看堆内存摘要-histo 显示堆直方图


jstack
打印线程的堆栈跟踪信息，用于诊断线程问题。
-F 强制输出线程堆栈跟踪-l 输出附加的锁信息


jinfo
查看和调整正在运行的 JVM 实例的配置信息。
-flags 查看所有 JVM 标志-sysprops 查看系统属性


jcmd
综合性工具，..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/08/20/jvm-%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E3%80%81%E6%95%85%E9%9A%9C%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7%E6%80%BB%E7%BB%93/">更多</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/jvm"><i class="tag post-item-tag">jvm</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/08/12/jvm-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/">jvm-对象的内存布局</a></h2><time class="has-text-grey" datetime="2022-08-12T14:46:49.000Z">2022-08-12</time><p class="is-flex-grow-2 mt-2">阅读《深入理解java虚拟机》第三版，结合openjdk-17u 中的hotspot源码简单记录一下。
1. 对象的内存布局在JVM中，每个Java对象在内存中的布局通常分为三个部分：
1.1 对象头 (Object Header) Mark Word
 它是对象头中的一部分，用于存储对象的运行时信息，包括对象的哈希码（hashcode）、GC 状态（是否被标记为垃圾回收）、锁标志位（用于同步锁的状态）、偏向锁的线程 ID、偏向时间戳等。在不同的情况下，Mark Word 的内容会有所不同。以下是来自openjdk-17u的hotspot源码中关于 Mark Word 部分的注释
src/hotspot/share/oops/markWord.cpp: 
// The markWord describes ..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/08/12/jvm-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/">更多</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/jvm"><i class="tag post-item-tag">jvm</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/08/07/jvm-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%B5%81%E7%A8%8B/">jvm-类加载流程</a></h2><time class="has-text-grey" datetime="2022-08-07T14:46:49.000Z">2022-08-07</time><p class="is-flex-grow-2 mt-2">当使用 java -jar HelloApp.jar 启动一个 Java 应用程序时，JVM 的类加载过程是由多个步骤组成的，并且不同的类加载器在不同阶段扮演着不同的角色。下面是详细的过程：
1. 启动JVM 当运行 java -jar HelloApp.jar 时，JVM 启动并初始化。这时，JVM 会先加载一些必要的系统类，这些类是由 Bootstrap ClassLoader（引导类加载器） 负责加载的。
2. 引导类加载器加载核心类库Bootstrap ClassLoader 是 JVM 自带的一个特殊的类加载器，它使用本地代码实现，负责加载 JVM 自身需要的核心类库，如 java.lang.*、java.util.* 等，这些类通常位于 rt.jar 或者在模块化 JDK 中的基础模块。
具体来..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/08/07/jvm-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%B5%81%E7%A8%8B/">更多</a></section></article><section class="paginator is-flex is-justify-content-flex-end is-flex-wrap-wrap mt-5"><a class="extend prev" rel="prev" href="/tags/jvm/"><i class="iconfont icon-prev has-text-grey"></i></a><a class="page-number" href="/tags/jvm/">1</a><span class="page-number current">2</span><a class="page-number" href="/tags/jvm/page/3/">3</a><a class="extend next" rel="next" href="/tags/jvm/page/3/"><i class="iconfont icon-next has-text-grey"></i></a></section></section><aside class="column is-hidden-mobile is-4-tablet is-3-widescreen"><div style="position: sticky; top: 50px;"><main class="aside-card-container tag-widget is-in-tag-page"><h3>标签</h3><section><a href="/tags/jdk"><span class="tag post-item-tag" style="margin-bottom: 5px;">jdk</span></a><a href="/tags/hotspot"><span class="tag post-item-tag" style="margin-bottom: 5px;">hotspot</span></a><a href="/tags/docker"><span class="tag post-item-tag" style="margin-bottom: 5px;">docker</span></a><a href="/tags/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E7%BF%BB%E8%AF%91"><span class="tag post-item-tag" style="margin-bottom: 5px;">官方文档翻译</span></a><a href="/tags/jvm"><span class="tag post-item-tag" style="margin-bottom: 5px;">jvm</span></a><a href="/tags/redis"><span class="tag post-item-tag" style="margin-bottom: 5px;">redis</span></a><a href="/tags/%E5%AE%9E%E9%AA%8C"><span class="tag post-item-tag" style="margin-bottom: 5px;">实验</span></a><a href="/tags/macos"><span class="tag post-item-tag" style="margin-bottom: 5px;">macos</span></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="tag post-item-tag" style="margin-bottom: 5px;">数据结构</span></a><a href="/tags/java"><span class="tag post-item-tag" style="margin-bottom: 5px;">java</span></a><a href="/tags/riscv"><span class="tag post-item-tag" style="margin-bottom: 5px;">riscv</span></a><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="tag post-item-tag" style="margin-bottom: 5px;">操作系统</span></a><a href="/tags/%E6%B1%87%E7%BC%96"><span class="tag post-item-tag" style="margin-bottom: 5px;">汇编</span></a><a href="/tags/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="tag post-item-tag" style="margin-bottom: 5px;">文件系统</span></a><a href="/tags/ext2"><span class="tag post-item-tag" style="margin-bottom: 5px;">ext2</span></a><a href="/tags/c%E8%AF%AD%E8%A8%80"><span class="tag post-item-tag" style="margin-bottom: 5px;">c语言</span></a><a href="/tags/xv6"><span class="tag post-item-tag" style="margin-bottom: 5px;">xv6</span></a></section></main></div></aside></div></article><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/wwinter117"><i class="iconfont icon-github"></i></a><!-- Ins--><!-- RSS--><a title="rss" target="_blank" rel="noopener nofollow" href="/atom.xml"><i class="iconfont icon-rss"></i></a><!-- 知乎--><!-- 领英--><!-- 脸书--></section><p><span>Copyright ©</span><span> Zhangdd 2021 - 2024</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="site author" target="_blank" rel="noopener" href="//github.com/wwinter117">Hosted by Zhangdd&nbsp;</a></p><!--div(style="margin-top: 2px")--><!--  a(title="github-button" class="github-button" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true")--></div><div><span>浙备7837-534598</span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></body></html>